(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[2351],{93807:function(e,t,n){var r=n(5690),o=n(81463);function a(t,n,i){return o()?(e.exports=a=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=a=function(e,t,n){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return n&&r(a,n.prototype),a},e.exports.default=e.exports,e.exports.__esModule=!0),a.apply(null,arguments)}e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0},81463:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},5690:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},36175:function(e,t,n){"use strict";n.d(t,{dg:function(){return s},sj:function(){return x},re:function(){return w},X1:function(){return E},Ud:function(){return h}});var r=n(93807),o=n.n(r);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=Symbol("Comlink.proxy"),s=Symbol("Comlink.endpoint"),c=Symbol("Comlink.releaseProxy"),l=Symbol("Comlink.thrown"),p=function(e){return"object"==typeof e&&null!==e||"function"==typeof e},f=new Map([["proxy",{canHandle:function(e){return p(e)&&e[u]},serialize:function(e){var t=new MessageChannel,n=t.port1,r=t.port2;return d(e,n),[r,[r]]},deserialize:function(e){return e.start(),h(e)}}],["throw",{canHandle:function(e){return p(e)&&l in e},serialize:function(e){var t=e.value;return[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function d(e,t){void 0===t&&(t=self),t.addEventListener("message",(function n(r){if(r&&r.data){var a,i=Object.assign({path:[]},r.data),u=i.id,s=i.type,c=i.path,p=(r.data.argumentList||[]).map(S);try{var f=c.slice(0,-1).reduce((function(e,t){return e[t]}),e),h=c.reduce((function(e,t){return e[t]}),e);switch(s){case 0:a=h;break;case 1:f[c.slice(-1)[0]]=S(r.data.value),a=!0;break;case 2:a=h.apply(f,p);break;case 3:var m;a=x(o()(h,p));break;case 4:var g=new MessageChannel,y=g.port1,b=g.port2;d(e,b),a=w(y,[y]);break;case 5:a=void 0}}catch(m){var E;E={value:m},E[l]=0,a=E}Promise.resolve(a).catch((function(e){var t;return(t={value:e})[l]=0,t})).then((function(e){var r=M(e),o=r[0],a=r[1];t.postMessage(Object.assign(Object.assign({},o),{id:u}),a),5===s&&(t.removeEventListener("message",n),v(t))}))}})),t.start&&t.start()}function v(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function h(e,t){return g(e,[],t)}function m(e){if(e)throw new Error("Proxy has been released and is not useable")}function g(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=function(){});var r=!1,o=new Proxy(n,{get:function(n,a){if(m(r),a===c)return function(){return k(e,{type:5,path:t.map((function(e){return e.toString()}))}).then((function(){v(e),r=!0}))};if("then"===a){if(0===t.length)return{then:function(){return o}};var i=k(e,{type:0,path:t.map((function(e){return e.toString()}))}).then(S);return i.then.bind(i)}return g(e,[].concat(t,[a]))},set:function(n,o,a){m(r);var i=M(a),u=i[0],s=i[1];return k(e,{type:1,path:[].concat(t,[o]).map((function(e){return e.toString()})),value:u},s).then(S)},apply:function(n,o,a){m(r);var i=t[t.length-1];if(i===s)return k(e,{type:4}).then(S);if("bind"===i)return g(e,t.slice(0,-1));var u=y(a),c=u[0],l=u[1];return k(e,{type:2,path:t.map((function(e){return e.toString()})),argumentList:c},l).then(S)},construct:function(n,o){m(r);var a=y(o),i=a[0],u=a[1];return k(e,{type:3,path:t.map((function(e){return e.toString()})),argumentList:i},u).then(S)}});return o}function y(e){var t,n=e.map(M);return[n.map((function(e){return e[0]})),(t=n.map((function(e){return e[1]})),Array.prototype.concat.apply([],t))]}var b=new WeakMap;function w(e,t){return b.set(e,t),e}function x(e){var t;return Object.assign(e,((t={})[u]=!0,t))}function E(e,t,n){return void 0===t&&(t=self),void 0===n&&(n="*"),{postMessage:function(t,r){return e.postMessage(t,n,r)},addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function M(e){for(var t,n=a(f);!(t=n()).done;){var r=t.value,o=r[0],i=r[1];if(i.canHandle(e)){var u=i.serialize(e);return[{type:3,name:o,value:u[0]},u[1]]}}return[{type:0,value:e},b.get(e)||[]]}function S(e){switch(e.type){case 3:return f.get(e.name).deserialize(e.value);case 0:return e.value}}function k(e,t,n){return new Promise((function(r){var o=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===o&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)}))}},32879:function(e,t,n){"use strict";n.d(t,{sj:function(){return m},Yy:function(){return a},Ud:function(){return p}});const r=Symbol("Comlink.proxy"),o=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),i=Symbol("Comlink.thrown"),u=e=>"object"==typeof e&&null!==e||"function"==typeof e,s=new Map([["proxy",{canHandle:e=>u(e)&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return c(e,t),[n,[n]]},deserialize:e=>(e.start(),p(e))}],["throw",{canHandle:e=>u(e)&&i in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function c(e,t=self){t.addEventListener("message",(function n(r){if(!r||!r.data)return;const{id:o,type:a,path:u}=Object.assign({path:[]},r.data),s=(r.data.argumentList||[]).map(y);let p;try{const t=u.slice(0,-1).reduce(((e,t)=>e[t]),e),n=u.reduce(((e,t)=>e[t]),e);switch(a){case 0:p=n;break;case 1:t[u.slice(-1)[0]]=y(r.data.value),p=!0;break;case 2:p=n.apply(t,s);break;case 3:p=m(new n(...s));break;case 4:{const{port1:t,port2:n}=new MessageChannel;c(e,n),p=function(e,t){return h.set(e,t),e}(t,[t])}break;case 5:p=void 0}}catch(e){p={value:e,[i]:0}}Promise.resolve(p).catch((e=>({value:e,[i]:0}))).then((e=>{const[r,i]=g(e);t.postMessage(Object.assign(Object.assign({},r),{id:o}),i),5===a&&(t.removeEventListener("message",n),l(t))}))})),t.start&&t.start()}function l(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function p(e,t){return d(e,[],t)}function f(e){if(e)throw new Error("Proxy has been released and is not useable")}function d(e,t=[],n=function(){}){let r=!1;const i=new Proxy(n,{get(n,o){if(f(r),o===a)return()=>b(e,{type:5,path:t.map((e=>e.toString()))}).then((()=>{l(e),r=!0}));if("then"===o){if(0===t.length)return{then:()=>i};const n=b(e,{type:0,path:t.map((e=>e.toString()))}).then(y);return n.then.bind(n)}return d(e,[...t,o])},set(n,o,a){f(r);const[i,u]=g(a);return b(e,{type:1,path:[...t,o].map((e=>e.toString())),value:i},u).then(y)},apply(n,a,i){f(r);const u=t[t.length-1];if(u===o)return b(e,{type:4}).then(y);if("bind"===u)return d(e,t.slice(0,-1));const[s,c]=v(i);return b(e,{type:2,path:t.map((e=>e.toString())),argumentList:s},c).then(y)},construct(n,o){f(r);const[a,i]=v(o);return b(e,{type:3,path:t.map((e=>e.toString())),argumentList:a},i).then(y)}});return i}function v(e){const t=e.map(g);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const h=new WeakMap;function m(e){return Object.assign(e,{[r]:!0})}function g(e){for(const[t,n]of s)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:3,name:t,value:r},o]}return[{type:0,value:e},h.get(e)||[]]}function y(e){switch(e.type){case 3:return s.get(e.name).deserialize(e.value);case 0:return e.value}}function b(e,t,n){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===o&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)}))}},94880:function(e,t,n){"use strict";n.r(t),n.d(t,{PopupProviderSymbol:function(){return s},name:function(){return u.t},namespace:function(){return u.u},site:function(){return c}});var r=n(21980),o=n(13487),a=n(19378);const i=e=>async()=>({getPopupsApi:()=>{try{return e.get(a.r_)}catch(e){return null}}});var u=n(87216);const s=Symbol("PopupProviderSymbol"),c=e=>{e(r.CT,o.j.AppWillMountHandler,o.j.AppDidMountHandler).to(n(8224).h),e(s).toProvider(i)}},8224:function(e,t,n){"use strict";n.d(t,{h:function(){return P}});var r=n(56510),o=n(21980),a=n(24888),i=n(36175);const u=e=>{let t,n;return async(r,...o)=>{t||(n=await e(),n&&(t=(0,i.Ud)(n)));const[a,u]=(e=>{const t=[],n=e=>(t.push(e),{proxyId:t.length-1}),r=e=>{return e instanceof Promise||(t=e)&&"[object Function]"==={}.toString.call(t)?n(e):Array.isArray(e)?e.map(r):e===Object(e)?Object.entries(e).reduce(((e,[t,n])=>(e[t]=r(n),e)),{}):e;var t};return[r(e),(0,i.sj)(t)]})(o);return t&&t[r](a,u)}};var s=n(94880),c=n(87216),l=n(31191),p=new Set(["https://manage.wix.com","https://manage.editorx.com"]);var f,d,v=n(32879),h="__proxyCallbackId__wixSDK__",m=function(e){return(0,l.mG)(void 0,void 0,void 0,(function(){var t,n,r,o;return(0,l.Jh)(this,(function(a){switch(a.label){case 0:return o=y,[4,e];case 1:return t=o.apply(void 0,[a.sent()]),n=t[0],r=t[1],[2,(0,v.sj)({callbacks:n,clonables:r})]}}))}))},g=function(e){return(0,l.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,l.Jh)(this,(function(r){switch(r.label){case 0:return t=b,n=[null==e?void 0:e.callbacks],[4,null==e?void 0:e.clonables];case 1:return[2,t.apply(void 0,n.concat([r.sent()]))]}}))}))},y=function(e){var t=function(e,n){var r;if(E(n)){var o=S();return e[o]=function(e,t){var r=b(e,t),o=n.apply(void 0,r);return m(o)},(r={})[h]=o,r}return Array.isArray(n)?n.map((function(n){return t(e,n)})):x(n)?M(n,(function(n){return t(e,n)})):n},n={};return[n,t(n,e)]},b=function(e,t){if(Array.isArray(t))return t.map((function(t){return b(e,t)}));if(x(t)&&t.hasOwnProperty(h)){var n=t[h];return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(0,l.mG)(void 0,void 0,void 0,(function(){var r,o,a,i;return(0,l.Jh)(this,(function(u){switch(u.label){case 0:return r=y(t),o=r[0],a=r[1],[4,e[n]((0,v.sj)(o),a)];case 1:return i=u.sent(),[2,g(i)]}}))}))}}return x(t)?M(t,(function(t){return b(e,t)})):t},w=function(e,t){return new Proxy(e,{get:function(e,n){return t(e[n])}})},x=function(e){return e&&"object"==typeof e},E=function(e){return"function"==typeof e},M=function(e,t){return Object.fromEntries(Object.entries(e).map((function(e){var n=e[0],r=e[1];return[n,t(r)]})))},S=(f=0,function(){return++f}),k=function(){return(0,l.mG)(void 0,void 0,void 0,(function(){var e;return(0,l.Jh)(this,(function(t){switch(t.label){case 0:return d?(e=d,d=void 0,[4,e[v.Yy]()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},_=function(e){var t=e.postMessage,n=e.origin;k();var r,o=function(e){var t=e.postMessage,n=e.origin;if(!n)throw new Error("Origin must be provided in the URL search params.");if(!p.has(n))throw new Error("Invalid origin. Can't handshake with provided origin");var r=new MessageChannel,o=r.port1,a=r.port2;return t({code:"wix-sdk-bo-hello-handshake",version:"1.0.0",port:a},n,[a]),o}({postMessage:t,origin:n});return r=(0,v.Ud)(o),d=w(r,(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0,l.mG)(void 0,void 0,void 0,(function(){var n,r,o,a;return(0,l.Jh)(this,(function(i){switch(i.label){case 0:return n=y(t),r=n[0],o=n[1],[4,e((0,v.sj)(r),o)];case 1:return a=i.sent(),[2,g(a)]}}))}))}})),k},j=function(e){(function(){if(!d)throw new Error("SDK was not initialized");return d})().updateHeight(e.offsetHeight)};const P=(0,r.ff)([o.ZQ,s.PopupProviderSymbol,a.O,o.EE],((e,t,n,r)=>{const o=(e=>{let t=null;return()=>(t||(t=(0,i.Ud)((0,i.X1)(e.parent))),t)})(e),a=e&&e!==e.parent;let s=null,l=null;return{getSdkHandlers:()=>({[c.t]:{getDashboardApi:async()=>{const e=o(),t=await e[i.dg]();return(0,i.re)(t,[t])},postMessageParent:(t,n,r)=>{a&&e.parent.postMessage(t,n,r)},captureError:e=>{r.captureError(e,{tags:{feature:"feature-dashboard-wix-code-sdk"},extra:{origin:"factory"}})}}}),async appWillMount(){const e=(await t()).getPopupsApi();if(e){const t=o(),n=u((()=>t[i.dg]()));e.registerToPopupEvent("popupOpen",(()=>{n("openLightbox")})),e.registerToPopupEvent("popupClose",(()=>{n("closeLightbox")}))}},async appDidMount(){try{a&&function({experiments:e,locationHref:t}){return"true"===new URL(t).searchParams.get("dashboardSdkAvailable")&&(Boolean(e["specs.thunderbolt.exposeNewDashboardSdkWithVelo"])||Boolean(e["specs.thunderbolt.exposeNewDashboardSdkWithVelo_loggedIn"]))}({experiments:n,locationHref:e.location.href})&&(l&&l(),s&&await s(),s=_({origin:(t=e.location.href,new URL(t).searchParams.get("origin")||""),postMessage:e.parent.postMessage.bind(e.parent)}),l=function(e){void 0===e&&(e=document.documentElement);var t=new ResizeObserver((function(){return j(e)}));return t.observe(e),function(){return t.disconnect()}}(e.document.querySelector("#SITE_CONTAINER")))}catch(e){throw r.captureError(e,{tags:{feature:"feature-dashboard-wix-code-sdk"}}),e}var t}}}))}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/dashboardWixCodeSdk.eb4d7a5a.chunk.min.js.map