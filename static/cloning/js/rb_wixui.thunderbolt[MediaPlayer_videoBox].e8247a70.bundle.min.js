!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[MediaPlayer_videoBox]",["react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[MediaPlayer_videoBox]"]=t(require("react")):e["rb_wixui.thunderbolt[MediaPlayer_videoBox]"]=t(e.React)}("undefined"!=typeof self?self:this,(function(e){return function(e){function t(t){for(var r,i,s=t[0],u=t[1],c=t[2],l=0,f=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(d&&d(t);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={517:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://static.parastorage.com/services/editor-elements/dist/";var s=("undefined"!=typeof self?self:this).webpackJsonp__wix_editor_elements_library=("undefined"!=typeof self?self:this).webpackJsonp__wix_editor_elements_library||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=u;return a.push([4637,0]),n()}({0:function(t,n){t.exports=e},10:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return f}));var r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const o={enter:13,space:32,end:35,home:36,escape:27,arrowLeft:37,arrowUp:38,arrowRight:39,arrowDown:40,tab:9,delete:46,a:65,z:90,pageUp:33,pageDown:34},a={space:["Spacebar"," "],enter:["Enter"]};function i(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}const s=i(o.space),u=i(o.enter),c=e=>{u(e),s(e)},d=i(o.escape),l="has-custom-focus",f=(e={})=>{var t,{pressed:n,expanded:o,haspopup:a,label:i,live:s,relevant:u,current:c,owns:d,controls:l,roleDescription:f,hidden:v,disabled:p,describedBy:m,labelledBy:h,errorMessage:g,atomic:b,role:y,busy:x}=e,E=r(e,["pressed","expanded","haspopup","label","live","relevant","current","owns","controls","roleDescription","hidden","disabled","describedBy","labelledBy","errorMessage","atomic","role","busy"]);const _=null!==(t=E.tabIndex)&&void 0!==t?t:E.tabindex,w={};return i&&(w["aria-label"]=i),s&&(w["aria-live"]=s),c&&(w["aria-current"]=c),n&&(w["aria-pressed"]=n),"boolean"==typeof v&&(w["aria-hidden"]=v),"boolean"==typeof o&&(w["aria-expanded"]=o),"boolean"==typeof p&&(w["aria-disabled"]=p),"boolean"==typeof b&&(w["aria-atomic"]=b),"boolean"==typeof x&&(w["aria-busy"]=x),"string"==typeof u&&(w["aria-relevant"]=u),"string"==typeof d&&(w["aria-owns"]=d),"string"==typeof l&&(w["aria-controls"]=l),"string"==typeof f&&(w["aria-roledescription"]=f),a&&(w["aria-haspopup"]=a),"number"==typeof _&&(w.tabIndex=_),y&&(w.role=y),m&&(w["aria-describedby"]=m),h&&(w["aria-labelledby"]=h),g&&(w["aria-errormessage"]=g),w}},1333:function(e,t,n){"use strict";var r=n(0),o=n(5),a=n.n(o),i=n(272),s=n(9),u=n(609),c=n(357),d=n.n(c),l=n(10);var f=n(524),v=n(983);f.Kampos.prototype.play=function(){if(!this.animationFrameId){const e=()=>{this.animationFrameId=window.requestAnimationFrame(e);const t=this.media;t&&t.readyState>=t.HAVE_CURRENT_DATA&&(!t.paused&&!t.ended||this._needsRedraw)&&(this._needsRedraw=!1,this.draw())};this.animationFrameId=window.requestAnimationFrame(e)}};function p(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1]:e}const m=(e={})=>{const t=[f.effects.transparentVideo()],n="brightness"in e,r="contrast"in e;if(n||r){const o=f.effects.brightnessContrast();n&&(o.brightness=e.brightness),r&&(o.contrast=e.contrast),t.push(o)}if(e.duotoneDark&&e.duotoneLight){const n=f.effects.duotone();n.dark=p(e.duotoneDark),n.light=p(e.duotoneLight),t.push(n)}const o="hue"in e,a="saturation"in e;if(o||a){const n=f.effects.hueSaturation();o&&(n.hue=e.hue),a&&(n.saturation=e.saturation),t.push(n)}return t},h=e=>e.readyState>=e.HAVE_CURRENT_DATA,g={count:0,set:new Set,add:e=>!!g.set.has(e)||g.set.size<8&&(g.set.add(e),g.count=g.set.size,!0),remove(e){g.set.delete(e),g.count=g.set.size}};const b=!Object(s.d)(),y=Object(s.c)()&&v.isIE(window);t.a=({id:e,translate:t,mediaControls:n,containerRootClassName:o,compRef:c,fillLayers:v,reducedMotion:p=!1,isMobileView:x,audioEnabled:E,hasAudio:_,hasClick:w,hasRollIn:C,hasAudioRollIn:R,canClickPause:S,canRollPause:T,muted:A,autoplay:O,canReplay:P,hasMask:I,animatePoster:D,filterEffect:j,isTransparent:k=!1,alt:L,updateState:M,onPlay:F,onPause:V,onEnded:N,onProgress:U,getPlaceholder:B,shouldShowTransparentVideoPosterOnStop:X})=>{var K,H;const z=r.useRef(null),G=r.useRef(null),W=r.useRef(null),$=r.useRef(null),Y=r.useRef(null),q=r.useRef(null),Q=r.createRef(),Z=O&&!p,J=r.useCallback(e=>{var t,n;if(!M)return;const r="on"!==(null===(t=z.current)||void 0===t?void 0:t.dataset.audio),o=+((null===(n=z.current)||void 0===n?void 0:n.dataset.volume)||1),a=e||{paused:!0,currentTime:0,duration:0,volume:o,muted:r};M({isPlaying:!a.paused,currentTime:a.currentTime||0,duration:a.duration||0,volume:100*o,isMuted:r,shouldPlay:O}),e&&(e.volume=o)},[O,M]),[ee,te]=r.useState(!k||!y),[ne,re]=r.useState(I),[oe,ae]=r.useState(!!k&&!ee),ie=!(!I||!b),se=r.useMemo(()=>ee&&!oe,[ee,oe]),ue=r.useRef(null);k&&ee&&!ue.current&&(ue.current=function({filterEffect:e,playerRef:t,videoRef:n,canvasRef:r,contextRef:o,kampos:a,setCanPlayTV:i}){let s=!1,u=!1;function c(){n.current&&t.current&&(n.current.removeEventListener("seeked",c),t.current.dataset.showCanvas="",u=!0)}const d={initKampos(){try{a.current=new f.Kampos({target:r.current,effects:m(e||{}),onContextLost:()=>{const e=a.current._source&&a.current._source.media;e&&(e.ended||e.paused)&&(a.current._needsRedraw=!0),this.stopKampos(),s&&this.playKampos()}}),a.current.hasContext=!0}catch(e){return g.remove(o),i(!1),void(u&&d.showPoster())}if(!n.current)return;const t=()=>{var e;n.current&&(a.current.setSource({width:(e=n.current)&&e.videoWidth||0,height:e&&e.videoHeight/2||0,media:e}),d.playKampos(),n.current.removeEventListener("loadeddata",t,!1))};h(n.current)?t():n.current.addEventListener("loadeddata",t,!1)},playKampos(){if(!t.current||!r.current)return;let e;e=a.current?a.current.hasContext||g.add(o):!f.Kampos.preventContextCreation&&g.add(o),e?a.current&&a.current.config?(a.current.lostContext&&a.current.restoreContext(),a.current.hasContext=!0,a.current.play(),!u&&a.current.media&&h(a.current.media)&&"playing"in t.current.dataset&&d.removePoster()):d.initKampos():u&&d.showPoster()},stopKampos(){g.remove(o),a.current.hasContext=!1,a.current.stop()},killKampos(){var e;a.current&&(d.stopKampos(),a.current.destroy()),null===(e=n.current)||void 0===e||e.removeEventListener("seeked",c)},removePoster(){const e=n.current,r=t.current;!u&&r&&e&&a.current&&((e.paused||e.ended||a.current._needsRedraw)&&(a.current._needsRedraw=!1,a.current.draw()),e.addEventListener("seeked",c),e.currentTime=0)},showPoster(){t.current&&n.current&&(delete t.current.dataset.showCanvas,u=!1)},onViewEnter(){s=!0,d.playKampos()},onViewLeave(){s=!1,a.current&&a.current.hasContext&&d.stopKampos()}};return d}({filterEffect:j,playerRef:z,videoRef:G,canvasRef:W,contextRef:Q,kampos:q,setCanPlayTV:te}));const ce=r.useRef(null);function de(){const e={play:[],pause:[],ended:[],timeupdate:[]};if(M){const t=e=>M({isPlaying:!e.target.paused,duration:e.target.duration}),n=e=>M({currentTime:e.target.currentTime});e.loadeddata=[e=>{J(e.target)}],e.play.push(t),e.pause.push(t),e.ended.push(t),e.timeupdate.push(n)}return k&&ue.current&&e.play.push(ue.current.removePoster),F&&e.play.push(()=>F({type:"onPlay"})),V&&e.pause.push(()=>V({type:"onPause"})),N&&e.ended.push(()=>N({type:"onEnded"})),U&&e.timeupdate.push(()=>U({type:"onProgress"})),e}let le=!1;ce.current||(ce.current=de(),le=!0),r.useEffect(()=>{le||(ce.current=de())},[F,V,N,U,k,J,M]);const fe=E&&_,ve=r.useCallback(()=>{var e;X&&(null===(e=ue.current)||void 0===e||e.showPoster())},[X]),{videoAPI:pe,onClick:me,onMouseEnter:he,onMouseLeave:ge,onMouseMove:be,onKeyDown:ye,mediaHandler:xe,setAudioContext:Ee,MEDIA_EVENTS:_e}=r.useMemo(()=>function({playerRef:e,videoRef:t,playButtonRef:n,audioRef:r,isMobileView:o,autoplay:a,hasAudio:i,hasClick:u,hasRollIn:c,hasAudioRollIn:d,canClickPause:f,canRollPause:v,canReplay:p,extraMediaHandlers:m={},updateState:h=(()=>{}),onStop:g}){var b;let y,x=+((null===(b=e.current)||void 0===b?void 0:b.dataset.volume)||1);function E(n){if(!e.current||!t.current)return;const r="boolean"==typeof n?n:!t.current.muted;T=!r,r?_.mute():_.unmute()}const _={setVolume(n){x=n,t.current&&(t.current.volume=x),e.current&&(e.current.dataset.volume=x.toString())},play(r){e.current&&t.current&&(r&&(e.current.dataset.playing="",h({shouldPlay:!0})),n.current&&n.current.setAttribute("aria-pressed","true"),t.current.play(),A=!0)},pause(){e.current&&t.current&&(delete e.current.dataset.playing,n.current&&n.current.setAttribute("aria-pressed","false"),t.current.pause(),h({shouldPlay:!1}))},load:()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.load()},stop(){e.current&&t.current&&(delete e.current.dataset.playing,n.current&&n.current.setAttribute("aria-pressed","false"),g&&g(),t.current.pause(),t.current.currentTime=0,h({shouldPlay:!1}))},togglePlay(){t.current&&(t.current.paused?_.play(!0):_.pause())},mute(){e.current&&t.current&&(t.current.muted=!0,e.current.dataset.audio="off",r.current&&r.current.setAttribute("aria-pressed","true"),h({isMuted:!0}))},unmute(n){if(!e.current||!t.current)return;const o=e.current,a=t.current;n?k(a):a.muted=!1,o.dataset.audio="on",r.current&&r.current.setAttribute("aria-pressed","false"),h({isMuted:!1})}};let w,C,R,S=!1,T=i,A=a||!u;const O={handleEvent(t){const n=t.type,r=e.current;"loadeddata"===n&&r&&(r.dataset.canPlay=""),"ended"===n&&r&&(p||(S=!0,r.dataset.stop=""),delete r.dataset.playing),m[n]&&m[n].length&&m[n].forEach(e=>e(t))}},P=n=>{y&&y.resume();const o=e.current,a=t.current,s=r.current;o&&a&&!S&&(i&&s&&(D(o),s.contains(n.target))?E():a.paused?_.play(!0):f&&_.pause())},I=n=>{y&&y.resume();const o=e.current,s=t.current,d=r.current;if(!o||!s||S)return;const l=!a&&!o.dataset.touched,p="on"===o.dataset.touched;i&&(D(o),d&&d.contains(n.target))?E():((l||p)&&(s.paused?_.play(!0):(f||v)&&_.pause()),(u||c)&&(clearTimeout(R),o.dataset.touched="on",R=window.setTimeout(()=>o.dataset.touched="off",1400)))},D=e=>{e.dataset.showAudio="",clearTimeout(C),C=window.setTimeout(()=>{delete e.dataset.showAudio},2e3)},j=e=>{clearTimeout(C),delete e.dataset.showAudio},k=e=>{e.volume=0,e.muted=!1;let t=0;window.clearInterval(w),w=window.setInterval(()=>{t+=.2,t>=x?(e.volume=x,window.clearInterval(w)):e.volume=t},200)},L=e=>{e.volume=x;let t=1;window.clearInterval(w),w=window.setInterval(()=>{t-=.2,t<=0?(e.volume=0,e.muted=!0,window.clearInterval(w)):e.volume=t},200)},M=Object(s.c)()&&"ontouchend"in window&&o,F=o?void 0:n=>{if(![...l.h.space,...l.h.enter].includes(n.key))return;n.preventDefault();const o=e.current,a=t.current,i=r.current;o&&a&&!S&&(i&&i.contains(n.target)?E():_.togglePlay())};let V;M?(i||u||c)&&(V=I):(i||u)&&(V=P);const N=!M&&(i||c||u)?()=>{const n=e.current,r=t.current;if(n&&r&&!S&&(c?_.play():u&&(n.dataset.rollIn=""),i&&A)){D(n);const e=!y||["running","interrupted"].includes(y.state);T&&e&&(d||c)&&r.muted&&_.unmute(!0)}}:void 0;return{videoAPI:_,onClick:V,onMouseEnter:N,onMouseLeave:!M&&(i||v||u)?()=>{const n=e.current,r=t.current;n&&r&&(v?r.pause():u&&delete n.dataset.rollIn,i&&(j(n),d&&!r.muted&&L(r)))}:void 0,onMouseMove:!M&&i?()=>{const t=e.current;t&&i&&A&&D(t)}:void 0,onKeyDown:F,mediaHandler:O,setAudioContext:function(){const e=window.AudioContext||window.webkitAudioContext;Object(s.c)()&&e&&t.current&&(y=new e)},MEDIA_EVENTS:new Set([...Object.keys(m),"loadeddata","ended"])}}({playerRef:z,videoRef:G,playButtonRef:$,audioRef:Y,isMobileView:x,autoplay:Z,hasAudio:fe,hasClick:w,hasRollIn:C,hasAudioRollIn:R,canClickPause:S,canRollPause:T,canReplay:P,extraMediaHandlers:ce.current||{},updateState:M,onStop:ve}),[x,Z,w,C,R,S,T,P,M,fe,ve]);return Object(u.a)(()=>{var e,t,n,r;if(se&&z.current&&(Y.current||(Y.current=z.current.querySelector("[data-audio-mute]"))),ae(ie),!(null===(t=null===(e=null==v?void 0:v.video)||void 0===e?void 0:e.videoInfo)||void 0===t?void 0:t.isVideoDataExists)&&z.current&&delete z.current.dataset.showCanvas,!(ie||k&&!ee)&&(k||fe||w)){const e=function({playerRef:e,videoRef:t,onViewEnter:n,onViewLeave:r}){if(!Object(s.c)())return;const o={visible:!window.document.hidden,intersecting:!1},a=()=>{t.current&&e.current&&"playing"in e.current.dataset&&(o.visible=!window.document.hidden,o.visible&&o.intersecting?t.current.play():t.current.pause())};window.document.addEventListener("visibilitychange",a);let i=null;return e.current&&"function"==typeof window.IntersectionObserver&&(i=new window.IntersectionObserver(a=>{const i=e.current,s=t.current;s&&i&&a.forEach(e=>{s&&e.target===i&&(o.intersecting=e.isIntersecting,o.visible&&o.intersecting?(null==n||n(),"playing"in i.dataset&&s.src&&s.play()):(null==r||r(),s.pause()))})}),i.observe(e.current)),function(){window.document.removeEventListener("visibilitychange",a),i&&(i.disconnect(),i=null)}}({playerRef:z,videoRef:G,onViewEnter:null===(n=ue.current)||void 0===n?void 0:n.onViewEnter,onViewLeave:null===(r=ue.current)||void 0===r?void 0:r.onViewLeave});return function(){var t;null==e||e(),null===(t=ue.current)||void 0===t||t.killKampos()}}},[k,ee,ue.current,fe]),r.useEffect(()=>{if(k&&!ee)return;const e=G.current,t=new Set(Array.from(_e).concat(Object.keys(ce.current||{}).filter(e=>ce.current&&ce.current[e]&&ce.current[e].length)));return t.forEach(t=>{e&&!ie&&("loadeddata"===t&&e.readyState>=e.HAVE_CURRENT_DATA?(xe.handleEvent({type:t}),window.setTimeout(()=>J(G.current),200)):e.addEventListener(t,xe))}),Ee&&!ie&&Ee(),()=>{t.forEach(t=>{e&&e.removeEventListener(t,xe)})}},[k,ee,Ee,xe,_e,ie,M,J,null===(H=null===(K=null==v?void 0:v.video)||void 0===K?void 0:K.videoInfo)||void 0===H?void 0:H.isVideoDataExists]),Object(u.a)(()=>{const t=z.current;if(ie&&v.video&&t){const n=function(e){const t=e.match(/.*svg\+xml,(.*)"\)$/);return t&&t[1]?window.decodeURIComponent(t[1]):""}(window.getComputedStyle(t).getPropertyValue("--mask-image"));v.video.posterImageInfo.maskDataElementString=function({svgContent:e,compId:t,alt:n}){const r=e.match(/(:?<\?xml[^?]*\?>)?(<svg[^>]*>)/);if(!r)return"";const o=r[1]?e.replace(r[1],""):e,a=window.document.createElement("div");a.innerHTML=o;const i=a.firstElementChild;if(!i)return"";const s="svg-content-"+t;i.setAttribute("id",s);const u=s+"-filter",c=s+"-mask";return`<svg ref="svg${t}" id="svg${t}" version="1.1" preserveAspectRatio="none" width="100%" height="100%" role="img" aria-label="${n}">\n      <defs>\n        <filter id="${u}">\n          <feColorMatrix\n            type="matrix"\n            values="0 0 0 0 1\n                    0 0 0 0 1\n                    0 0 0 0 1\n                    0 0 0 1 0"\n          />\n        </filter>\n        <mask id="${c}">\n          <use\n            filter="url(#${u})"\n            xlink:href="#${s}"\n            width="100%"\n            height="100%"\n            x="0"\n            y="0"\n          />\n        </mask>\n        ${a.innerHTML}\n      </defs>\n      <image id="${t}image" ref="image"  mask="url(#${c})" width="100%" height="100%"/>\n    </svg>`}({svgContent:n,compId:e,alt:v.video.posterImageInfo.alt||""}),v.video.isVideoEnabled=!1,re(!1)}},[e,v.video,ie]),r.useImperativeHandle(c,()=>pe),r.useEffect(()=>{const e=z.current;!Z&&e&&e.removeAttribute("data-playing")},[Z]),r.createElement("div",{id:e,ref:z,className:a()(d.a.videobox,o,{[d.a.masked]:ne}),onClick:se?me:void 0,onMouseEnter:se?he:void 0,onMouseLeave:se?ge:void 0,onMouseMove:se?be:void 0,onKeyDown:se?ye:void 0,"data-audio":A?"off":"on","data-has-play":se&&(w||C)?"":void 0,"data-no-audio":se&&fe?void 0:"","data-playing":se&&Z?"":void 0,"data-stop":se?void 0:"","data-animate-poster":k?D:void 0,"data-has-alpha":k?"true":void 0},r.createElement("div",{ref:$,className:a()(d.a.videoboxContainer,{[d.a.hasCanvas]:k}),tabIndex:0,role:"button","aria-label":`${L} ${t("ariaLabels","VideoBox_AriaLabel_Play_Video","Play video")}`,"aria-pressed":Z?"true":"false"},r.createElement(i.a,Object.assign({},v,{getPlaceholder:B,reducedMotion:p,videoRef:G,canvasRef:k?W:void 0,extraClass:d.a.videoboxFill}))),se?n:null)}},1455:function(e,t,n){"use strict";t.a={mapStateToProps:({reducedMotion:e})=>({reducedMotion:e})}},2410:function(e,t,n){"use strict";var r=n(0),o=n(206),a=n(1333);t.a=r.forwardRef((e,t)=>{const n=r.createElement(o.a,Object.assign({id:e.id},e.meshProps),e.children);return r.createElement(a.a,Object.assign({},e,{compRef:t,mediaControls:n}))})},357:function(e,t,n){e.exports={"video-container":"_1OEU0",videoContainer:"_1OEU0","video-poster":"_3Nifl",videoPoster:"_3Nifl","video-poster-img":"_3mlbD",videoPosterImg:"_3mlbD",video:"uP8h2","filter-effect-svg":"_1YeVT",filterEffectSvg:"_1YeVT",videobox:"_1EyUC",mediaControlsContainer:"_36aXa",masked:"sONZ1","videobox-container":"_1zNyT",videoboxContainer:"_1zNyT","videobox-fill":"IfnBz",videoboxFill:"IfnBz","has-canvas":"_3SQDg",hasCanvas:"_3SQDg","videobox-play":"_3p8NH",videoboxPlay:"_3p8NH","videobox-audio":"_3MvZs",videoboxAudio:"_3MvZs","videobox-audio-icon":"_3p5QH",videoboxAudioIcon:"_3p5QH","videobox-audio-on":"_1USx3",videoboxAudioOn:"_1USx3","videobox-audio-off":"WjvlX",videoboxAudioOff:"WjvlX"}},4637:function(e,t,n){"use strict";n.r(t),n.d(t,"components",(function(){return a})),n.d(t,"version",(function(){return i}));var r=n(2410),o=n(1455);const a={MediaPlayer_videoBox:{component:r.a,controller:o.a}},i="1.0.0"},5:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},524:function(e,t,n){e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={init:function(e){var t=e.gl,n=e.plane,r=e.effects,o=e.dimensions,a=e.noSource,i=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=r?null:{texture:C(e).texture,buffer:null};o&&(e.bindTexture(e.TEXTURE_2D,o.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0));var a,i,s=b(t,n,r),u=E(s.vertex,r?d:l),c=E(s.fragment,r?f:v),p=_(e,u,c),m=p.program,g=p.vertexShader,y=p.fragmentShader,x=p.error,w=p.type;if(x)throw new Error("".concat(w," error:: ").concat(x,"\n").concat(w===h?c:u));try{a=e.getExtension("OES_vertex_array_object"),i=a.createVertexArrayOES(),a.bindVertexArrayOES(i)}catch(e){}var T=R(e,m,s.attributes);i&&(A(e,T),a.bindVertexArrayOES(null));var O=S(e,m,s.uniforms);return{extensions:{vao:a},program:m,vertexShader:g,fragmentShader:y,source:o,attributes:T,uniforms:O,textures:s.textures,vao:i}}(t,n,r,a);return{gl:t,data:i,dimensions:o||{}}},draw:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=r.program,a=r.source,i=r.attributes,s=r.uniforms,u=r.textures,c=r.extensions,d=r.vao,l=t.xSegments,f=void 0===l?1:l,v=t.ySegments,p=void 0===v?1:v;n&&a&&a.texture&&(e.bindTexture(e.TEXTURE_2D,a.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),e.useProgram(o),d?c.vao.bindVertexArrayOES(d):A(e,i),T(e,s);var m=e.TEXTURE0;if(a&&(e.activeTexture(m),e.bindTexture(e.TEXTURE_2D,a.texture),m=e.TEXTURE1),u)for(var h=0;h<u.length;h++){e.activeTexture(m+h);var g=u[h];e.bindTexture(e.TEXTURE_2D,g.texture),g.update&&e.texImage2D(e.TEXTURE_2D,0,e[g.format],e[g.format],e.UNSIGNED_BYTE,g.data)}e.drawArrays(e.TRIANGLES,0,6*f*p)},destroy:function(e,t){var n=t.program,r=t.vertexShader,o=t.fragmentShader,a=t.source,i=t.attributes,s=t.extensions,u=t.vao;(i||[]).forEach((function(t){return e.deleteBuffer(t.buffer)})),u&&s.vao.deleteVertexArrayOES(u),a&&a.texture&&e.deleteTexture(a.texture),e.deleteProgram(n),e.deleteShader(r),e.deleteShader(o)},resize:function(e,t){var n,r,o=e.canvas,a=t||{},i=a.width,s=a.height;i&&s?(n=i,r=s):(n=Math.floor(1*o.clientWidth),r=Math.floor(1*o.clientHeight)),o.width===n&&o.height===r||(o.width=n,o.height=r),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)},getWebGLContext:function(e){var t,n={preserveDrawingBuffer:!1,antialias:!1,depth:!1,stencil:!1};if(t=e.getContext("webgl",n))g=!0;else{if(g)return null;t=e.getContext("experimental-webgl",n)}return t},createTexture:C},d=function(e){var t=e.uniform,n=void 0===t?"":t,r=e.attribute,o=void 0===r?"":r,a=e.varying,i=void 0===a?"":a,s=e.constant,u=void 0===s?"":s,c=e.main,d=void 0===c?"":c;return"\nprecision highp float;\n".concat(n,"\n").concat(o,"\nattribute vec2 a_position;\n").concat(i,"\n\nconst vec3 lumcoeff = vec3(0.2125, 0.7154, 0.0721);\n").concat(u,"\nvoid main() {\n    ").concat(d,"\n    gl_Position = vec4(a_position.xy, 0.0, 1.0);\n}")},l=function(e){var t=e.uniform,n=void 0===t?"":t,r=e.attribute,o=void 0===r?"":r,a=e.varying,i=void 0===a?"":a,s=e.constant,u=void 0===s?"":s,c=e.main,d=void 0===c?"":c;return"\nprecision highp float;\n".concat(n,"\n").concat(o,"\nattribute vec2 a_texCoord;\nattribute vec2 a_position;\n").concat(i,"\nvarying vec2 v_texCoord;\n\nconst vec3 lumcoeff = vec3(0.2125, 0.7154, 0.0721);\n").concat(u,"\nvoid main() {\n    v_texCoord = a_texCoord;\n    ").concat(d,"\n    gl_Position = vec4(a_position.xy, 0.0, 1.0);\n}")},f=function(e){var t=e.uniform,n=void 0===t?"":t,r=e.varying,o=void 0===r?"":r,a=e.constant,i=void 0===a?"":a,s=e.main,u=void 0===s?"":s,c=e.source,d=void 0===c?"":c;return"\nprecision highp float;\n".concat(o,"\n").concat(n,"\n\nconst vec3 lumcoeff = vec3(0.2125, 0.7154, 0.0721);\n").concat(i,"\nvoid main() {\n    ").concat(d,"\n    vec3 color = vec3(0.0);\n    float alpha = 1.0;\n    ").concat(u,"\n    gl_FragColor = vec4(color, 1.0) * alpha;\n}")},v=function(e){var t=e.uniform,n=void 0===t?"":t,r=e.varying,o=void 0===r?"":r,a=e.constant,i=void 0===a?"":a,s=e.main,u=void 0===s?"":s,c=e.source,d=void 0===c?"":c;return"\nprecision highp float;\n".concat(o,"\nvarying vec2 v_texCoord;\n").concat(n,"\nuniform sampler2D u_source;\n\nconst vec3 lumcoeff = vec3(0.2125, 0.7154, 0.0721);\n").concat(i,"\nvoid main() {\n    vec2 sourceCoord = v_texCoord;\n    ").concat(d,"\n    vec4 pixel = texture2D(u_source, sourceCoord);\n    vec3 color = pixel.rgb;\n    float alpha = pixel.a;\n    ").concat(u,"\n    gl_FragColor = vec4(color, 1.0) * alpha;\n}")},p={stretch:"CLAMP_TO_EDGE",repeat:"REPEAT",mirror:"MIRRORED_REPEAT"},m="VERTEX",h="FRAGMENT",g=!1;function b(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.reduce((function(e,n){var r,o,a=n.attributes,s=void 0===a?[]:a,u=n.uniforms,c=void 0===u?[]:u,d=n.textures,l=void 0===d?[]:d,f=n.varying,v=void 0===f?{}:f,p=function(r){return Object.keys(n[r]||{}).forEach((function(o){"constant"===o||"main"===o||"source"===o?e[r][o]+=n[r][o]+"\n":e[r][o]=t(t({},e[r][o]),n[r][o])}))};return p("vertex"),p("fragment"),s.forEach((function(t){e.attributes.some((function(e){if(e.name===t.name)return Object.assign(e,t),!0}))||e.attributes.push(t)})),e.attributes.forEach((function(t){if(t.extends&&!e.attributes.some((function(e){if(e.name===t.extends)return Object.assign(t,e,{name:t.name}),!0})))throw new Error("Could not find attribute ".concat(t.extends," to extend"))})),(r=e.uniforms).push.apply(r,i(c)),(o=e.textures).push.apply(o,i(l)),Object.assign(e.vertex.varying,v),Object.assign(e.fragment.varying,v),e}),x(e,r))}function y(e){for(var t=e.xEnd,n=e.yEnd,r=e.factor,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.xSegments,i=void 0===a?1:a,s=o.ySegments,u=void 0===s?1:s,c=[],d=0;d<i;d++)for(var l=0;l<u;l++)c.push(t*d/i-r,n*l/u-r),c.push(t*d/i-r,n*(l+1)/u-r),c.push(t*(d+1)/i-r,n*l/u-r),c.push(t*(d+1)/i-r,n*l/u-r),c.push(t*d/i-r,n*(l+1)/u-r),c.push(t*(d+1)/i-r,n*(l+1)/u-r);return c}function x(e,t){var n=t?[]:[{name:"u_source",type:"i",data:[0]}],r=[{name:"a_position",data:new Float32Array(y({xEnd:2,yEnd:2,factor:1},e)),size:2,type:"FLOAT"}];return t||r.push({name:"a_texCoord",data:new Float32Array(y({xEnd:1,yEnd:1,factor:0},e)),size:2,type:"FLOAT"}),{vertex:{uniform:{},attribute:{},varying:{},constant:"",main:""},fragment:{uniform:{},varying:{},constant:"",main:"",source:""},attributes:r,uniforms:n,textures:[]}}function E(e,t){return t(Object.entries(e).reduce((function(e,t){var n=a(t,2),r=n[0],o=n[1];return["uniform","attribute","varying"].includes(r)?e[r]=Object.entries(o).reduce((function(e,t){var n=a(t,2),o=n[0],i=n[1];return e+"".concat(r," ").concat(i," ").concat(o,";\n")}),""):e[r]=o,e}),{}))}function _(e,t,n){var r=w(e,e.VERTEX_SHADER,t),o=w(e,e.FRAGMENT_SHADER,n);return r.error?r:o.error?o:function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return{program:r,vertexShader:t,fragmentShader:n};var o={error:e.getProgramInfoLog(r),type:"program"};return e.deleteProgram(r),o}(e,r,o)}function w(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o={error:e.getShaderInfoLog(r),type:t===e.VERTEX_SHADER?m:h};return e.deleteShader(r),o}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,r=void 0===n?1:n,o=t.height,a=void 0===o?1:o,i=t.data,s=void 0===i?null:i,u=t.format,c=void 0===u?"RGBA":u,d=t.wrap,l=void 0===d?"stretch":d,f=e.createTexture();return e.bindTexture(e.TEXTURE_2D,f),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e[O(l.x||l)]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e[O(l.y||l)]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),s?e.texImage2D(e.TEXTURE_2D,0,e[c],e[c],e.UNSIGNED_BYTE,s):e.texImage2D(e.TEXTURE_2D,0,e[c],r,a,0,e[c],e.UNSIGNED_BYTE,null),{texture:f,width:r,height:a,format:c}}function R(e,t,n){return(n||[]).map((function(n){var r=function(e,t,n,r){var o=e.getAttribLocation(t,n),a=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),{location:o,buffer:a}}(e,t,n.name,n.data),o=r.location,a=r.buffer;return{name:n.name,location:o,buffer:a,type:n.type,size:n.size}}))}function S(e,t,n){return(n||[]).map((function(n){return{location:e.getUniformLocation(t,n.name),size:n.size||n.data.length,type:n.type,data:n.data}}))}function T(e,t){(t||[]).forEach((function(t){var n=t.size,r=t.type,o=t.location,a=t.data;"i"===r&&(a=new Int32Array(a)),e["uniform".concat(n).concat(r,"v")](o,a)}))}function A(e,t){(t||[]).forEach((function(t){var n=t.location,r=t.buffer,o=t.size,a=t.type;e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,r),e.vertexAttribPointer(n,o,e[a],!1,0,0)}))}function O(e){return p[e]||p.stretch}return{effects:{brightnessContrast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.brightness,n=void 0===t?1:t,r=e.contrast,o=void 0===r?1:r;return{fragment:{uniform:{u_brEnabled:"bool",u_ctEnabled:"bool",u_contrast:"float",u_brightness:"float"},constant:"const vec3 half3 = vec3(0.5);",main:"\n    if (u_brEnabled) {\n        color *= u_brightness;\n    }\n\n    if (u_ctEnabled) {\n        color = (color - half3) * u_contrast + half3;\n    }\n\n    color = clamp(color, 0.0, 1.0);"},get brightness(){return this.uniforms[2].data[0]},set brightness(e){this.uniforms[2].data[0]=parseFloat(Math.max(0,e))},get contrast(){return this.uniforms[3].data[0]},set contrast(e){this.uniforms[3].data[0]=parseFloat(Math.max(0,e))},get brightnessDisabled(){return!this.uniforms[0].data[0]},set brightnessDisabled(e){this.uniforms[0].data[0]=+!e},get contrastDisabled(){return!this.uniforms[1].data[0]},set contrastDisabled(e){this.uniforms[1].data[0]=+!e},uniforms:[{name:"u_brEnabled",type:"i",data:[1]},{name:"u_ctEnabled",type:"i",data:[1]},{name:"u_brightness",type:"f",data:[n]},{name:"u_contrast",type:"f",data:[o]}]}},hueSaturation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hue,n=void 0===t?0:t,r=e.saturation,o=void 0===r?1:r;return{vertex:{uniform:{u_hue:"float",u_saturation:"float"},constant:"\nconst mat3 lummat = mat3(\n    lumcoeff,\n    lumcoeff,\n    lumcoeff\n);\nconst mat3 cosmat = mat3(\n    vec3(0.787, -0.715, -0.072),\n    vec3(-0.213, 0.285, -0.072),\n    vec3(-0.213, -0.715, 0.928)\n);\nconst mat3 sinmat = mat3(\n    vec3(-0.213, -0.715, 0.928),\n    vec3(0.143, 0.140, -0.283),\n    vec3(-0.787, 0.715, 0.072)\n);\nconst mat3 satmat = mat3(\n    vec3(0.787, -0.715, -0.072),\n    vec3(-0.213, 0.285, -0.072),\n    vec3(-0.213, -0.715, 0.928)\n);",main:"\n    float angle = (u_hue / 180.0) * 3.14159265358979323846264;\n    v_hueRotation = lummat + cos(angle) * cosmat + sin(angle) * sinmat;\n    v_saturation = lummat + satmat * u_saturation;"},fragment:{uniform:{u_hueEnabled:"bool",u_satEnabled:"bool",u_hue:"float",u_saturation:"float"},main:"\n    if (u_hueEnabled) {\n        color = vec3(\n            dot(color, v_hueRotation[0]),\n            dot(color, v_hueRotation[1]),\n            dot(color, v_hueRotation[2])\n        );\n    }\n\n    if (u_satEnabled) {\n        color = vec3(\n            dot(color, v_saturation[0]),\n            dot(color, v_saturation[1]),\n            dot(color, v_saturation[2])\n        );\n    }\n\n    color = clamp(color, 0.0, 1.0);"},varying:{v_hueRotation:"mat3",v_saturation:"mat3"},get hue(){return this.uniforms[2].data[0]},set hue(e){this.uniforms[2].data[0]=parseFloat(e)},get saturation(){return this.uniforms[3].data[0]},set saturation(e){this.uniforms[3].data[0]=parseFloat(Math.max(0,e))},get hueDisabled(){return!this.uniforms[0].data[0]},set hueDisabled(e){this.uniforms[0].data[0]=+!e},get saturationDisabled(){return!this.uniforms[1].data[0]},set saturationDisabled(e){this.uniforms[1].data[0]=+!e},uniforms:[{name:"u_hueEnabled",type:"i",data:[1]},{name:"u_satEnabled",type:"i",data:[1]},{name:"u_hue",type:"f",data:[n]},{name:"u_saturation",type:"f",data:[o]}]}},duotone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dark,n=void 0===t?[.7411764706,.0431372549,.568627451,1]:t,r=e.light,o=void 0===r?[.9882352941,.7333333333,.05098039216,1]:r;return{fragment:{uniform:{u_duotoneEnabled:"bool",u_light:"vec4",u_dark:"vec4"},main:"\n    if (u_duotoneEnabled) {\n        vec3 gray = vec3(dot(lumcoeff, color));\n        color = mix(u_dark.rgb, u_light.rgb, gray);\n    }"},get light(){return this.uniforms[1].data.slice(0)},set light(e){var t=this;e.forEach((function(e,n){Number.isNaN(e)||(t.uniforms[1].data[n]=e)}))},get dark(){return this.uniforms[2].data.slice(0)},set dark(e){var t=this;e.forEach((function(e,n){Number.isNaN(e)||(t.uniforms[2].data[n]=e)}))},get disabled(){return!this.uniforms[0].data[0]},set disabled(e){this.uniforms[0].data[0]=+!e},uniforms:[{name:"u_duotoneEnabled",type:"i",data:[1]},{name:"u_light",type:"f",data:o},{name:"u_dark",type:"f",data:n}]}},transparentVideo:function(){return{vertex:{uniform:{u_texOffset:"vec2"},main:"v_texAlphaCoord = v_texCoord + u_texOffset;"},fragment:{uniform:{u_tvEnabled:"bool"},main:"\n    if (u_tvEnabled) {\n        alpha *= dot(lumcoeff, texture2D(u_source, v_texAlphaCoord).rgb);\n\n        // transform alpha values from sRGB source to linearRGB - this cleans up the rim from the result\n        float linear;\n        if (alpha <= 0.04045) {\n            linear = alpha / 12.92;\n        }\n        else {\n            linear = pow((alpha + 0.055) / 1.055, 2.4);\n        }\n\n        alpha = linear;\n\n        if (alpha < 0.04) {\n            alpha = 0.0;\n        }\n        else if (alpha > 0.96) {\n            alpha = 1.0;\n        }\n    }"},get disabled(){return!this.uniforms[0].data[0]},set disabled(e){this.uniforms[0].data[0]=+!e},varying:{v_texAlphaCoord:"vec2"},uniforms:[{name:"u_tvEnabled",type:"i",data:[1]},{name:"u_texOffset",type:"f",data:[0,-.5]}],attributes:[{name:"a_texCoord",data:new Float32Array([0,.5,0,1,1,.5,1,.5,0,1,1,1]),size:2,type:"FLOAT"}]}}},Kampos:function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!t.target)throw new Error("A target canvas was not provided");if(e.preventContextCreation)throw new Error("Context creation is prevented");if(this._contextCreationError=function(){e.preventContextCreation=!0,t&&t.onContextCreationError&&t.onContextCreationError.call(this,t)},t.target.addEventListener("webglcontextcreationerror",this._contextCreationError,!1),!this.init(t))throw new Error("Could not create context");this._restoreContext=function(e){return e&&e.preventDefault(),n.config.target.removeEventListener("webglcontextrestored",n._restoreContext,!0),!!n.init()&&(n._source&&n.setSource(n._source),delete n._source,t&&t.onContextRestored&&t.onContextRestored.call(n,t),!0)},this._loseContext=function(e){e.preventDefault(),n.gl&&n.gl.isContextLost()&&(n.lostContext=!0,n.config.target.addEventListener("webglcontextrestored",n._restoreContext,!0),n.destroy(!0),t&&t.onContextLost&&t.onContextLost.call(n,t))},this.config.target.addEventListener("webglcontextlost",this._loseContext,!0)}var t,o,a;return t=e,(o=[{key:"init",value:function(t){var r=t=t||this.config,o=r.target,a=r.plane,i=r.effects,s=r.ticker,u=r.noSource;if(e.preventContextCreation)return!1;this.lostContext=!1;var d=c.getWebGLContext(o);if(!d)return!1;if(d.isContextLost()){if(!this.restoreContext())return!1;if(!(d=c.getWebGLContext(this.config.target)))return!1}var l=a&&a.segments?"object"===n(a.segments)?a.segments:{x:a.segments,y:a.segments}:{},f=l.x,v=void 0===f?1:f,p=l.y,m=void 0===p?1:p;this.plane={xSegments:v,ySegments:m};var h=c.init({gl:d,plane:this.plane,effects:i,dimensions:this.dimensions,noSource:u}).data;return this.gl=d,this.data=h,this.config=t,s&&(this.ticker=s,s.add(this)),!0}},{key:"setSource",value:function(e){if(e){var t,n,r;if(this.lostContext&&!this.restoreContext())return;"[object Object]"===Object.prototype.toString.call(e)?(t=e.media,n=e.width,r=e.height):t=e,n&&r&&(this.dimensions={width:n,height:r}),c.resize(this.gl,this.dimensions),this._createTextures(),this.media=t}}},{key:"draw",value:function(e){if(!this.lostContext||this.restoreContext()){var t=this.config.beforeDraw;t&&!1===t(e)||c.draw(this.gl,this.plane,this.media,this.data,this.dimensions)}}},{key:"play",value:function(e){var t=this;this.config.beforeDraw=e,this.ticker?(this.animationFrameId&&this.stop(),this.playing||(this.playing=!0,this.ticker.add(this))):this.animationFrameId||(this.animationFrameId=window.requestAnimationFrame((function e(n){t.animationFrameId=window.requestAnimationFrame(e),t.draw(n)})))}},{key:"stop",value:function(){this.animationFrameId&&(window.cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.playing&&(this.playing=!1,this.ticker.remove(this))}},{key:"destroy",value:function(e){if(this.stop(),this.gl&&this.data&&c.destroy(this.gl,this.data),e){var t=this.dimensions||{};this._source=this._source||{media:this.media,width:t.width,height:t.height}}else this.config&&(this.config.target.removeEventListener("webglcontextlost",this._loseContext,!0),this.config.target.removeEventListener("webglcontextcreationerror",this._contextCreationError,!1)),this.config=null,this.dimensions=null;this.gl=null,this.data=null,this.media=null}},{key:"restoreContext",value:function(){if(e.preventContextCreation)return!1;var t=this.config.target,n=this.config.target.cloneNode(!0),r=t.parentNode;return r&&r.replaceChild(n,t),this.config.target=n,t.removeEventListener("webglcontextlost",this._loseContext,!0),t.removeEventListener("webglcontextrestored",this._restoreContext,!0),t.removeEventListener("webglcontextcreationerror",this._contextCreationError,!1),n.addEventListener("webglcontextlost",this._loseContext,!0),n.addEventListener("webglcontextcreationerror",this._contextCreationError,!1),!this.lostContext||this._restoreContext()}},{key:"_createTextures",value:function(){var e=this;this.data&&this.data.textures.forEach((function(t,n){var r=e.data.textures[n];r.texture=c.createTexture(e.gl,{width:e.dimensions.width,height:e.dimensions.height,format:t.format,data:t.data,wrap:t.wrap}).texture,r.format=t.format,r.update=t.update}))}}])&&r(t.prototype,o),a&&r(t,a),e}()}}()},609:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(9);const a=Object(o.c)()?r.useLayoutEffect:r.useEffect},983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsIpad=t.isInstagramApp=t.isFacebookApp=t.isWindows=t.getIOSVersion=t.isIOS=t.isIOS11Device=t.isChromeOnIos=t.isChrome=t.getSafariMajorVersion=t.isSafari=t.isFirefox=t.isEdge=t.isIE=void 0;t.isIE=e=>!!e&&!!e.document&&!!e.document.documentMode;t.isEdge=e=>r(e).indexOf("edg")>-1;t.isFirefox=e=>r(e).indexOf("firefox")>-1;t.isSafari=e=>{const t=r(e);return t.indexOf("safari")>-1&&t.indexOf("version")>-1};t.getSafariMajorVersion=e=>{if((0,t.isSafari)(e)){let t=r(e).split(" ");return t=t.find(e=>e.startsWith("version/")),t=t.split("/")[1],parseInt(t,10)}return-1};t.isChrome=e=>r(e).indexOf("chrome")>-1;t.isChromeOnIos=e=>{const t=r(e);return t.indexOf("safari")>-1&&t.indexOf("crios")>-1};const r=e=>e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent.toLowerCase():"";t.isIOS11Device=e=>{const t=r(e);return/ip(hone|od|ad).*os 11/.test(t)};t.isIOS=e=>{const t=(e=>e&&e.navigator&&e.navigator.platform||"")(e);return!!t&&/iPad|iPhone|iPod/.test(t)};t.getIOSVersion=e=>{const t=r(e),n=/(iphone|ipod|ipad).*os (\d+)_/;if(!n.test(t))return NaN;const o=t.match(n);return o&&Number(o[2])};t.isWindows=e=>{const t=r(e);return!!t&&/.*\(win.*\).*/i.test(t)};t.isFacebookApp=e=>{const t=r(e);return t.includes("fban")||t.includes("fbav")};t.isInstagramApp=e=>r(e).includes("instagram");t.getIsIpad=e=>{const t=e.navigator.userAgent.toLowerCase(),n=-1!==t.indexOf("ipad"),r=-1!==t.indexOf("mac");return!!(!n&&r&&e.navigator.maxTouchPoints&&e.navigator.maxTouchPoints>2)||n}}})}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements/dist/rb_wixui.thunderbolt[MediaPlayer_videoBox].e8247a70.bundle.min.js.map